<!DOCTYPE html>
<html ng-app="weatherApp">

<head>
    <meta charset="utf-8">
    <title> Hey, Hows the Weather?</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>

<body ng-controller='weatherController as weatherCtrl'>
    <div class='jumbotron' style='text allign:center'>
        <h1> Weather around you! </h1>
        <h3>Plan your day effectively!</h3>
    </div>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand">Erics Weather Services</a>
            </div>
            <button class="btn btn-danger" type="button" ng-click="weatherCtrl.APIcall('ChulaVista')">Chula Vista</button>
            <button class="btn btn-danger" type="button" ng-click="weatherCtrl.APIcall('Denver')">Denver</button>
            <button class="btn btn-danger" type="button" ng-click="weatherCtrl.APIcall('Amsterdam')">Amsterdam</button>
            <button class="btn btn-danger" type="button" ng-click="weatherCtrl.APIcall('Portland')">Portland</button>

            <form ng-submit='weatherCtrl.APIcall(weatherCtrl.city)' class="navbar-form navbar-left" role="search">
                <div class="form-group">
                    <input ng-model='weatherCtrl.city' type="text" class="form-control" placeholder="Search Your Hood">
                    <button type="submit">Search!</button>
                </div>
            </form>
           </div>
      </nav>

      <div class="container">
        <h2>Current Weather</h2>
        <div class="panel panel-default">
        <div class="panel-heading">City:{{weatherCtrl.Info.name}}</div>
          <div class="panel-body">Temp in F:{{weatherCtrl.Info.main.temp}} Low:{{weatherCtrl.Info.main.temp_min}} High:{{weatherCtrl.Info.main.temp_max}}</div>
        </div>
      </div>



      <div class="container">
        <h2>Search History</h2>
        <table class="table">
          <thead>
            <tr>
              <th>City Searched</th>
              <th>Date and Time Searched</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in weatherCtrl.searchHistory">
                  <td>{{item.name}}</td>
                  <td>{{item.timestamp | date: "MM/d/yy hh:mm:ss a"}}</td>
            </tr>
          </tbody>
        </table>
      </div>


         </body> 

<!-- <script src="http://openweathermap.org/js/OWM.OpenLayers.1.3.4.js"></script> -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
<script src='index.js'></script>

</html>
